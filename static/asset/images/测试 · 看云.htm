<!DOCTYPE html>
<!-- saved from url=(0046)http://127.0.0.1:8000/user/create_content/11/0 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>测试 · 看云</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="./测试 · 看云_files/editor.css">
    <link rel="stylesheet" href="./测试 · 看云_files/editormd.css">
    <link rel="stylesheet" href="./测试 · 看云_files/style.css">
    <style>
        .close ul{
            display: none;
        }
    </style>
<link rel="stylesheet" href="./测试 · 看云_files/layer.css" id="layuicss-layer"><link type="text/css" rel="stylesheet" href="./测试 · 看云_files/codemirror.min.css"><link type="text/css" rel="stylesheet" href="./测试 · 看云_files/dialog.css"><link type="text/css" rel="stylesheet" href="./测试 · 看云_files/matchesonscrollbar.css"><script id="-static-asset-editor-lib-codemirror-codemirror-min" type="text/javascript" src="./测试 · 看云_files/codemirror.min.js"></script><script id="-static-asset-editor-lib-codemirror-modes-min" type="text/javascript" src="./测试 · 看云_files/modes.min.js"></script><script id="-static-asset-editor-lib-codemirror-addons-min" type="text/javascript" src="./测试 · 看云_files/addons.min.js"></script><script id="-static-asset-editor-lib-marked-min" type="text/javascript" src="./测试 · 看云_files/marked.min.js"></script><script id="-static-asset-editor-lib-prettify-min" type="text/javascript" src="./测试 · 看云_files/prettify.min.js"></script></head>
<body>
<div id="main">
    <div class="root">
        <div class="ui toast bottom-right "></div>
        <div class="window-container">
            <div class="window-title">
                <div class="toolbar">
                    <div class="toolbar-actions">
                        <a class="ui icon green button" href="http://127.0.0.1:8000/user/create_content/11/0#">
                            <span data-tooltip="返回概要" data-position="bottom left" data-tooltip-small="true" data-inverted="true"></span>
                            <i class="icon chevron left"></i>
                        </a>
                        <div class="ui buttons blue right floated">
                            <div class="ui icon button">
                                <span data-tooltip="保存" id="save" data-position="bottom center" data-tooltip-small="true" data-inverted="true"></span>
                                保存文章
                            </div>
                        </div>
                        <div class="ui buttons orange right floated">
                            <div class="ui icon button">
                                <span data-tooltip="保存并发布" data-position="bottom center" data-tooltip-small="true" data-inverted="true"></span>
                                保存并发布
                            </div>
                        </div>
                        <div class="ui buttons right floated"></div>
                    </div>
                </div>
            </div>
            <div class="window-body">
                <div class="SplitPane vertical" style="display: flex; flex: 1 1 0%; height: 100%; position: absolute; outline: none; overflow: hidden; user-select: text; flex-direction: row; left: 0px; right: 0px;">
                    <div class="Pane vertical Pane1 " style="flex: 0 0 auto; position: relative; outline: none; width: 280px;">
                        <div class="sidebar">
                            <div class="sidebar-selector">
                                <div class="item active"><i class="icon content"></i>目录</div>
                            </div>
                            <div class="sidebar-body">
                                <div class="catalog-body">
                                    <ul>
                                        <li class="changed" draggable="true" data-href="/user/create_chapter_form/11/0">
                                            <div class="wholerow"></div>
                                            <i class="icon"></i>
                                            <a class="text" href="http://127.0.0.1:8000/user/create_content/11/0">图书概要</a>
                                        </li>

                                        
                                        <li data-openid="id1" class="close " data-href="/user/create_chapter_form/11/1" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret "></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/1" class="text">第一章，你好事件</a>
                                            <ul>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id2" class="close " data-href="/user/create_chapter_form/11/2" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret "></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/2" class="text">第2章，你好美女</a>
                                            <ul>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id3" class="close " data-href="/user/create_chapter_form/11/3" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret "></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/3" class="text">第三章，海娃死了</a>
                                            <ul>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id4" class="close " data-href="/user/create_chapter_form/11/4" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret "></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/4" class="text">第4章，海娃又死了</a>
                                            <ul>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id5" class="close " data-href="/user/create_chapter_form/11/5" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret "></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/5" class="text">第五章，大河向东流</a>
                                            <ul>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id6" class="close " data-href="/user/create_chapter_form/11/6" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret right"></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/6" class="text">第六章</a>
                                            <ul>
                                                
                                                <li data-pid="id6" data-openid="id11" class="close " data-href="/user/create_chapter_form/11/11" draggable="true">
                                                    <div class="wholerow"></div>
                                                    <i class="icon caret "></i>
                                                    <a href="http://127.0.0.1:8000/user/create_content/11/11" class="text">611111</a>
                                                    <ul>
                                                        
                                                    </ul>
                                                </li>
                                                
                                                <li data-pid="id6" data-openid="id12" class="close " data-href="/user/create_chapter_form/11/12" draggable="true">
                                                    <div class="wholerow"></div>
                                                    <i class="icon caret right"></i>
                                                    <a href="http://127.0.0.1:8000/user/create_content/11/12" class="text">哈哈哈哈哈</a>
                                                    <ul>
                                                        
                                                        <li data-pid="id12" data-openid="id13" class="" data-href="" draggable="true">
                                                            <div class="wholerow"></div>
                                                            <i class="icon"></i>
                                                            <a href="http://127.0.0.1:8000/user/create_content/11/13" class="text">呵呵呵呵呵呵呵呵呵呵</a>
                                                        </li>
                                                        
                                                    </ul>
                                                </li>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id7" class="close " data-href="/user/create_chapter_form/11/7" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret "></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/7" class="text">第七章，后海不是海</a>
                                            <ul>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id8" class="close " data-href="/user/create_chapter_form/11/8" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret "></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/8" class="text">海娃炸开了</a>
                                            <ul>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id9" class="close " data-href="/user/create_chapter_form/11/9" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret "></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/9" class="text">海娃又炸了</a>
                                            <ul>
                                                
                                            </ul>
                                        </li>
                                        
                                        <li data-openid="id10" class="close " data-href="/user/create_chapter_form/11/10" draggable="true">
                                            <div class="wholerow"></div>
                                            <i class="icon caret right"></i>
                                            <a href="http://127.0.0.1:8000/user/create_content/11/10" class="text">小伙子炸毛了</a>
                                            <ul>
                                                
                                                <li data-pid="id10" data-openid="id14" class="close " data-href="/user/create_chapter_form/11/14" draggable="true">
                                                    <div class="wholerow"></div>
                                                    <i class="icon caret "></i>
                                                    <a href="http://127.0.0.1:8000/user/create_content/11/14" class="text">小伙子又炸毛了</a>
                                                    <ul>
                                                        
                                                    </ul>
                                                </li>
                                                
                                            </ul>
                                        </li>
                                        
                                    </ul>
                                    <div class="ui header center aligned">
                                        <button class="ui button small" id="new_chapter">新建章节</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <span role="presentation" class="Resizer vertical"></span>
                    <div id="editormd" class="editormd editormd-vertical" style="width: 90%; height: 100%;">
                        <textarea style="display:none;" class="editormd-markdown-textarea" placeholder="请愉快地使用MarkDown语法进行内容的编写吧 - imshusheng.com" name="editormd-markdown-doc"># dsadsdfd

```
function (){

}
```</textarea><div class="CodeMirror cm-s-default CodeMirror-wrap CodeMirror-focused" style="font-size: 13px; width: 243.149px; margin-top: 116px; height: 701px;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 136px; left: 74px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 39px; margin-bottom: -7px; border-right-width: 23px; min-height: 162px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 35px; top: 132px; height: 22px;">&nbsp;</div></div><div class="CodeMirror-code" style="text-rendering: auto;"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -39px; width: 39px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">1</div></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-header cm-header-1"># dsadsdfd</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -39px; width: 39px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">2</div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -39px; width: 39px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">3</div></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">```</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -39px; width: 39px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">4</div></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">function (){</span></span></pre></div><div class="" style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -39px; width: 39px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">5</div></div><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -39px; width: 39px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">6</div></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">}</span></span></pre></div><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-wrapper" style="left: -39px; width: 39px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 20px;">7</div></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">```</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 23px; width: 1px; top: 162px;"></div><div class="CodeMirror-gutters" style="height: 721px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 28px;"></div><div class="CodeMirror-gutter CodeMirror-foldgutter"></div></div></div></div>
                    <a href="javascript:;" class="fa fa-close editormd-preview-close-btn"></a>

<div class="editormd-preview" style="display: block; width: 242.149px; top: 116px; height: 701px;"><div class="markdown-body editormd-preview-container" previewcontainer="true" style="padding: 20px;"><h1 id="h1-dsadsdfd"><a name="dsadsdfd" class="reference-link"></a><span class="header-link octicon octicon-link"></span>dsadsdfd</h1><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> </span><span class="pun">(){</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="pun">}</span></code></li></ol></pre></div></div>
<div class="editormd-container-mask" style="display: none;"></div>
<div class="editormd-mask"></div><div class="editormd-toolbar" style="display: block;"><div class="editormd-toolbar-container"><ul class="editormd-menu"><li><a href="javascript:;" title="撤销（Ctrl+Z）" unselectable="on"><i class="fa fa-undo" name="undo" unselectable="on"></i></a></li><li><a href="javascript:;" title="重做（Ctrl+Y）" unselectable="on"><i class="fa fa-repeat" name="redo" unselectable="on"></i></a></li><li class="divider" unselectable="on">|</li><li><a href="javascript:;" title="粗体" unselectable="on"><i class="fa fa-bold" name="bold" unselectable="on"></i></a></li><li><a href="javascript:;" title="删除线" unselectable="on"><i class="fa fa-strikethrough" name="del" unselectable="on"></i></a></li><li><a href="javascript:;" title="斜体" unselectable="on"><i class="fa fa-italic" name="italic" unselectable="on"></i></a></li><li><a href="javascript:;" title="引用" unselectable="on"><i class="fa fa-quote-left" name="quote" unselectable="on"></i></a></li><li><a href="javascript:;" title="将每个单词首字母转成大写" unselectable="on"><i class="fa" name="ucwords" style="font-size:20px;margin-top: -3px;">Aa</i></a></li><li><a href="javascript:;" title="将所选转换成大写" unselectable="on"><i class="fa fa-font" name="uppercase" unselectable="on"></i></a></li><li><a href="javascript:;" title="将所选转换成小写" unselectable="on"><i class="fa" name="lowercase" style="font-size:24px;margin-top: -10px;">a</i></a></li><li class="divider" unselectable="on">|</li><li><a href="javascript:;" title="标题1" unselectable="on"><i class="fa editormd-bold" name="h1" unselectable="on">H1</i></a></li><li><a href="javascript:;" title="标题2" unselectable="on"><i class="fa editormd-bold" name="h2" unselectable="on">H2</i></a></li><li><a href="javascript:;" title="标题3" unselectable="on"><i class="fa editormd-bold" name="h3" unselectable="on">H3</i></a></li><li><a href="javascript:;" title="标题4" unselectable="on"><i class="fa editormd-bold" name="h4" unselectable="on">H4</i></a></li><li><a href="javascript:;" title="标题5" unselectable="on"><i class="fa editormd-bold" name="h5" unselectable="on">H5</i></a></li><li><a href="javascript:;" title="标题6" unselectable="on"><i class="fa editormd-bold" name="h6" unselectable="on">H6</i></a></li><li class="divider" unselectable="on">|</li><li><a href="javascript:;" title="无序列表" unselectable="on"><i class="fa fa-list-ul" name="list-ul" unselectable="on"></i></a></li><li><a href="javascript:;" title="有序列表" unselectable="on"><i class="fa fa-list-ol" name="list-ol" unselectable="on"></i></a></li><li><a href="javascript:;" title="横线" unselectable="on"><i class="fa fa-minus" name="hr" unselectable="on"></i></a></li><li class="divider" unselectable="on">|</li><li><a href="javascript:;" title="链接" unselectable="on"><i class="fa fa-link" name="link" unselectable="on"></i></a></li><li><a href="javascript:;" title="引用链接" unselectable="on"><i class="fa fa-anchor" name="reference-link" unselectable="on"></i></a></li><li><a href="javascript:;" title="添加图片" unselectable="on"><i class="fa fa-picture-o" name="image" unselectable="on"></i></a></li><li><a href="javascript:;" title="行内代码" unselectable="on"><i class="fa fa-code" name="code" unselectable="on"></i></a></li><li><a href="javascript:;" title="预格式文本 / 代码块（缩进风格）" unselectable="on"><i class="fa fa-file-code-o" name="preformatted-text" unselectable="on"></i></a></li><li><a href="javascript:;" title="代码块（多语言风格）" unselectable="on"><i class="fa fa-file-code-o" name="code-block" unselectable="on"></i></a></li><li><a href="javascript:;" title="添加表格" unselectable="on"><i class="fa fa-table" name="table" unselectable="on"></i></a></li><li><a href="javascript:;" title="日期时间" unselectable="on"><i class="fa fa-clock-o" name="datetime" unselectable="on"></i></a></li><li><a href="javascript:;" title="Emoji表情" unselectable="on"><i class="fa fa-smile-o" name="emoji" unselectable="on"></i></a></li><li><a href="javascript:;" title="HTML实体字符" unselectable="on"><i class="fa fa-copyright" name="html-entities" unselectable="on"></i></a></li><li><a href="javascript:;" title="插入分页符" unselectable="on"><i class="fa fa-newspaper-o" name="pagebreak" unselectable="on"></i></a></li><li class="divider" unselectable="on">|</li><li><a href="javascript:;" title="跳转到行" unselectable="on"><i class="fa fa-terminal" name="goto-line" unselectable="on"></i></a></li><li><a href="javascript:;" title="关闭实时预览" unselectable="on"><i class="fa fa-eye-slash" name="watch" unselectable="on"></i></a></li><li><a href="javascript:;" title="全窗口预览HTML（按 Shift + ESC还原）" unselectable="on"><i class="fa fa-desktop" name="preview" unselectable="on"></i></a></li><li><a href="javascript:;" title="全屏（按ESC还原）" unselectable="on"><i class="fa fa-arrows-alt" name="fullscreen" unselectable="on"></i></a></li><li><a href="javascript:;" title="清空" unselectable="on"><i class="fa fa-eraser" name="clear" unselectable="on"></i></a></li><li><a href="javascript:;" title="搜索" unselectable="on"><i class="fa fa-search" name="search" unselectable="on"></i></a></li><li class="divider" unselectable="on">|</li><li><a href="javascript:;" title="使用帮助" unselectable="on"><i class="fa fa-question-circle" name="help" unselectable="on"></i></a></li><li><a href="javascript:;" title="关于Editor.md" unselectable="on"><i class="fa fa-info-circle" name="info" unselectable="on"></i></a></li></ul></div></div></div>
                </div>
            </div>

        </div>
    </div>
</div>
<script type="text/javascript" src="./测试 · 看云_files/jquery.min.js"></script>
<script type="text/javascript" src="./测试 · 看云_files/editormd.min.js"></script>
<script type="text/javascript" src="./测试 · 看云_files/layer.js"></script>

<script type="text/javascript">
    //加载MarkDown编辑器
    var EditorMd;
    $(function() {
        EditorMd = editormd("editormd", {
            width   : "90%",
            height  : '100%',
            syncScrolling : "single",
            path    : "/static/asset/editor/lib/"
        });
    });

    $(function () {
        //控制当前章节及其上级 上上级 的展开
        var open_object = $('li[data-openid=id0]');
        //当前等级上一级的data-openid
        var pid = open_object.attr('data-pid');
        if (pid){
            //试图展开上级
            var parent_open_object = $('li[data-openid='+pid+']'); //上级对象
            parent_open_object.addClass('open').removeClass('close');
            parent_open_object.children().eq(1).addClass('down').removeClass('right');
            var ppid = parent_open_object.attr('data-pid');
            if (ppid){
                var parent_open_object2 = $('li[data-openid='+ppid+']'); //上上级对象
                parent_open_object2.addClass('open').removeClass('close');
                parent_open_object2.children().eq(1).addClass('down').removeClass('right');
            }
        }

        $('.item.icon').click(function () {
            var i = $('.window-body');
            if(i.hasClass('with-sidebar')){
                i.removeClass('with-sidebar')
            }else{
                i.addClass('with-sidebar')
            }
        });

        //控制章节的左侧的开闭
        $('.icon.caret').click(function () {
            var i = $(this);
            if(i.parent().hasClass('open')){
                //被点击前如果是打开状态
                i.parent().removeClass('open').addClass('close');
                //删除向下的小图标， 添加向右的小图标
                i.addClass('right').removeClass('down')
            }else{
                //被点击前是关闭状态
                i.parent().addClass('open').removeClass('close');
                i.addClass('down').removeClass('right');
            }
        });

        //弹出添加章节的页面
        $('#new_chapter').click(function () {
            url = $('.changed').attr('data-href');
            if (url != undefined) {
                layer.open({
                  type: 2,
                  title: '创建章节',
                  shadeClose: true,
                  shade: false,
                  maxmin: true, //开启最大化最小化按钮
                  area: ['480px', '320px'],
                  content: url
                });
            }else{
                layer.alert('最多只能创建三级章节')
            }
        })

        //保存
        $('#save').click(function () {

            console.log(EditorMd.getMarkdown())

        })
    })
</script>

</body></html>